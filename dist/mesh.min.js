!function t(e,n,r){function i(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t,e,n){this._filter=t,this._acceptBus=e||o.create(),this._rejectBus=n||o.create()}var i=t(3),o=t(9),s=t(26);i.extend(r,{execute:function(t){var e=this,n=this._filter(t);return n&&n.then?s.create(function(r){n.then(function(n){e._execute(n,t).pipeTo(r)},r.abort.bind(r))}):this._execute(n,t)},_execute:function(t,e){return t?this._acceptBus.execute(e):this._rejectBus.execute(e)}}),e.exports=r},{26:26,3:3,9:9}],2:[function(t,e,n){"use strict";function r(t){for(var e=Array.prototype.slice.call(arguments,1),n=0,r=e.length;n<r;n++){var i=e[n];for(var o in i)void 0==t[o]&&(t[o]=i[o])}return t}function i(t,e){this._properties=t,this._bus=e}var o=t(3);o.extend(i,{execute:function(t){return this._bus.execute(r(t,this._properties))}}),e.exports=i},{3:3}],3:[function(t,e,n){"use strict";function r(){}var i=t(21);i(r,{execute:function(t){}}),r.create=t(20),r.extend=i,e.exports=r},{20:20,21:21}],4:[function(t,e,n){"use strict";function r(t,e){this._error=t,this._chunkValues=e}var i=t(3),o=t(23);i.extend(r,{execute:function(t){return o.create(this._error,this._chunkValues)}}),e.exports=r},{23:23,3:3}],5:[function(t,e,n){"use strict";function r(t,e){this._bus=t,this._catchError=e}var i=t(3),o=t(26);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){e._bus.execute(t).pipeTo({write:function(t){n.write(t)},close:function(){n.close()},abort:function(r){try{e._catchError(r,t);n.close()}catch(i){n.abort(i)}}})})}}),e.exports=r},{26:26,3:3}],6:[function(t,e,n){"use strict";function r(t,e){this._ms=e,this._bus=t}var i=t(3),o=t(26),s=t(24);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){setTimeout(function(){(e._bus.execute(t)||s.create()).pipeTo(n)},e._ms)})}}),e.exports=r},{24:24,26:26,3:3}],7:[function(t,e,n){"use strict";function r(t){this._busses=t}var i=t(3),o=t(26),s=t(24);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){var r=e._busses.concat(),i=function o(e){if(e===r.length)return n.close();var i=r[e].execute(t)||s.create(),c=!1;i.pipeTo({write:function(t){c=!0,n.write(t)},close:function(){c?n.close():o(e+1)},abort:n.abort.bind(n)})};i(0)})}}),e.exports=r},{24:24,26:26,3:3}],8:[function(t,e,n){"use strict";function r(t,e){this._bus=t,this._map=e}var i=t(3),o=t(26);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){e._bus.execute(t).pipeTo({write:function(r){try{e._map(r,n,t)}catch(i){return n.abort(i),Promise.reject(i)}},close:function(){n.close()},abort:n.abort.bind(n)})})}}),e.exports=r},{26:26,3:3}],9:[function(t,e,n){"use strict";function r(){}var i=t(3),o=t(24);i.extend(r,{execute:function(t){return o.create()}}),e.exports=r},{24:24,3:3}],10:[function(t,e,n){"use strict";function r(t){this._busses=t}var i=t(3),o=t(26),s=t(24);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){var r=e._busses.concat(),i=r.length;return i?void r.forEach(function(e){var r=e.execute(t)||s.create();r.pipeTo({write:n.write.bind(n),close:function(){--i||n.close()},abort:n.abort.bind(n)})}):s.create()})}}),e.exports=r},{24:24,26:26,3:3}],11:[function(t,e,n){"use strict";function r(t){this._busses=t}var i=t(3),o=t(26),s=t(24);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){var r=e._busses.concat(),i=r.length,o=-1;r.forEach(function(e,r){var c=e.execute(t)||s.create();c.pipeTo({write:function(t){~o&&o!==r||(o=r,n.write(t))},close:function(){(~o&&o===r||0===--i)&&n.close()},abort:n.abort.bind(n)})})})}}),e.exports=r},{24:24,26:26,3:3}],12:[function(t,e,n){"use strict";function r(t){this._busses=t}var i=t(3);i.extend(r,{execute:function(t){return this._busses[Math.floor(Math.random()*this._busses.length)].execute(t)}}),e.exports=r},{3:3}],13:[function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,n,e)}var i=t(1);i.extend(r),e.exports=r},{1:1}],14:[function(t,e,n){"use strict";function r(t,e,n){2===arguments.length&&(n=e,e=function(t,e){return!0}),this._maxRetries=t,this._bus=n,this._errorFilter=e}var i=t(3),o=t(26);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){var r,i=!1,o=function s(o){if(!o)return n.abort(r);var c=e._bus.execute(t);c.pipeTo({write:function(t){i=!0,n.write(t)},close:function(){n.close()},abort:function(t){r=t,s(o-1)}})};o(e._maxRetries)})}}),e.exports=r},{26:26,3:3}],15:[function(t,e,n){"use strict";function r(t){this._busses=t,this._i=0}var i=t(3);t(24);i.extend(r,{execute:function(t){var e=this._busses[this._i].execute(t);return this._i=(this._i+1)%this._busses.length,e}}),e.exports=r},{24:24,3:3}],16:[function(t,e,n){"use strict";function r(t){this._busses=t}var i=t(3),o=t(26),s=t(24);i.extend(r,{execute:function(t){var e=this;return o.create(function(n){var r=e._busses.concat(),i=function o(i){if(i===r.length)return n.close();var c=r[i].execute(t)||s.create();c.pipeTo({write:n.write.bind(n),close:o.bind(e,i+1),abort:n.abort.bind(n)})};i(0)})}}),e.exports=r},{24:24,26:26,3:3}],17:[function(t,e,n){"use strict";function r(t){t.length>=2?this._execute=function(e){return new Promise(function(n,r){t(e,function(t,e){return t?r(t):void n.apply(this,Array.prototype.slice.call(arguments,1))})})}:this._execute=t}var i=t(3),o=(t(26),t(23),t(28));i.extend(r,{execute:function(t){return o.create(this._execute(t))}}),r.create=function(t){return t.execute?t:i.create.call(r,t)},e.exports=r},{23:23,26:26,28:28,3:3}],18:[function(t,e,n){"use strict";e.exports={Bus:t(3),MapBus:t(8),NoopBus:t(9),WrapBus:t(17),RaceBus:t(11),RetryBus:t(14),RandomBus:t(12),AcceptBus:t(1),RejectBus:t(13),DelayedBus:t(6),SequenceBus:t(16),ParallelBus:t(10),BufferedBus:t(4),FallbackBus:t(7),CatchErrorBus:t(5),RoundRobinBus:t(15),AttachDefaultsBus:t(2),Response:t(26),WrapResponse:t(28),EmptyResponse:t(24),ErrorResponse:t(25),BufferedResponse:t(23),NodeStreamResponse:t(27),WritableStream:t(31)},"undefined"!=typeof window&&(e.exports.noConflict=function(){return delete window.mesh,e.exports},window.mesh=e.exports)},{1:1,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,2:2,23:23,24:24,25:25,26:26,27:27,28:28,3:3,31:31,4:4,5:5,6:6,7:7,8:8,9:9}],19:[function(t,e,n){"use strict";e.exports=function(t){for(var e=Array.prototype.slice.call(arguments,1),n=0,r=e.length;n<r;n++){var i=e[n];for(var o in i)t[o]=i[o]}return t}},{}],20:[function(t,e,n){"use strict";e.exports=function(){var t=Object.create(this.prototype);return this.apply(t,arguments),t}},{}],21:[function(t,e,n){"use strict";var r=t(19);e.exports=function(t,e){function n(){this.constructor=s}var i,o,s=e,c=t;return"function"==typeof s?o=2:("object"==typeof c?(s=function(){c.apply(this,arguments)},o=0):(s=c||function(){},o=1),c="function"==typeof this?this:Object),i=Array.prototype.slice.call(arguments,o),r(s,c),n.prototype=c.prototype,s.prototype=new n,r(s.prototype,r.apply(Object,[{}].concat(i))),s}},{19:19}],22:[function(t,e,n){"use strict";e.exports=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],23:[function(t,e,n){"use strict";function r(t,e){i.call(this,function(n){t&&n.abort(t),e=o(e)?e:void 0!=e?[e]:[],e.forEach(n.write.bind(n)),n.close()})}var i=t(26),o=t(22);i.extend(r),e.exports=r},{22:22,26:26}],24:[function(t,e,n){"use strict";function r(){i.call(this)}var i=t(23);t(21);i.extend(r),e.exports=r},{21:21,23:23}],25:[function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=t(23);i.extend(r),e.exports=r},{23:23}],26:[function(t,e,n){"use strict";function r(t){var e=this._writer=i.create();if(this._reader=e.getReader(),t){var n=t(e);n&&n.then&&n.then(function(){e.close()},e.abort.bind(e))}}var i=t(31),o=t(21);o(r,{then:function(t,e){return this._writer.then(t,e)},"catch":function(t){return this._writer["catch"](t)},read:function(){return this._reader.read()},readAll:function(){var t=this,e=[];return new Promise(function(n,r){t.pipeTo({write:e.push.bind(e),close:n.bind(t,e),abort:r})})},pipeTo:function(t,e){return this._reader.pipeTo(t,e)},cancel:function(){return this._reader.cancel()}}),r.create=t(20),r.extend=o,e.exports=r},{20:20,21:21,31:31}],27:[function(t,e,n){"use strict";function r(t){i.call(this,function(e){if(!t)return e.close();var n=function i(){t.resume(),t.once("data",function(n){t.pause(),e.write(n).then(i)})},r=function(){e.close()};t.once("end",r).once("error",e.abort.bind(e)),n()})}var i=t(26);i.extend(r),e.exports=r},{26:26}],28:[function(t,e,n){"use strict";var r=t(26),i=t(23),o=t(24);e.exports={create:function(){var t=arguments[0];return"undefined"!=typeof t?t.read?t:t.then?r.create(function(e){t.then(function(t){void 0!=t&&e.write(t),e.close()},e.abort.bind(e))}):i.create.apply(i,[void 0].concat(Array.prototype.slice.call(arguments))):o.create()}}},{23:23,24:24,26:26}],29:[function(t,e,n){"use strict";function r(){var t=this;this._values=[],this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})}var i=t(21);i(r,{then:function(t,e){return this._promise.then(t,e)},__signalWrite:function(){},__signalRead:function(){},write:function(t){var e=this;return this._closed?Promise.reject(new Error("cannot write to a closed stream")):(this._values.push(t),this.__signalWrite(),new Promise(function(t,n){e.__signalRead=function(){e.__signalRead=function(){},t()}}))},read:function(){var t=this;return this.__signalRead(),this._error?Promise.reject(this._error):this._values.length?Promise.resolve({value:this._values.shift(),done:!1}):this._closed?Promise.resolve({value:void 0,done:!0}):new Promise(function(e,n){t.__signalWrite=function(){t.__signalWrite=function(){},t.read().then(e,n)}})},abort:function(t){this._error=t,this._reject(t),this.__signalWrite()},close:function(){this._closed=!0,this._resolve(),this.__signalWrite()}}),r.create=t(20),e.exports=r},{20:20,21:21}],30:[function(t,e,n){"use strict";function r(t){this._passThrough=t}var i=t(21);i(r,{read:function(){return this._passThrough.read()},pipeTo:function(t,e){var n=this;e||(e={});var r=function i(){n.read().then(function(n){n.done?e.preventClose||t.close():(t.write(n.value),i())},e.preventAbort?void 0:t.abort.bind(t))};return r(),t},cancel:function(){return this._passThrough.close()}}),r.create=t(20),e.exports=r},{20:20,21:21}],31:[function(t,e,n){"use strict";function r(t){this._passThrough=o.create(),this._reader=s.create(this._passThrough)}var i=t(21),o=t(29),s=t(30);i(r,{then:function(t,e){return this._passThrough.then(t,e)},"catch":function(t){return this.then(void 0,t)},write:function(t){return this._passThrough.write(t)},abort:function(t){this._passThrough.abort(t)},close:function(){this._passThrough.close()},getReader:function(){return this._reader}}),r.create=t(20),r.extend=t(21),e.exports=r},{20:20,21:21,29:29,30:30}]},{},[18]);